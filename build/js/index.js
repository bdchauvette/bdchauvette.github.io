!function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports,i),e.exports}function e(t,n){return"string"==typeof t&&(t=document.querySelectorAll(t)),t.length>1?e.createMany(t,n):(1===t.length&&(t=t[0]),this.element=t,this.active=!1,this.transiting=!1,this.update=this.update.bind(this),this.initCSSPrefix(),this.initAngleGetterSetter(),this.initOptions(n),this.initHardwareAcceleration(),this.initTransition(),this.bindHandlers(),this.addListeners(),void this.update())}function n(t,e,n,i){Object.defineProperty?Object.defineProperty(t,e,{get:n,set:i}):document.__defineGetter__&&(t.__defineGetter__(e,n),t.__defineSetter__(e,i))}var i="undefined"!=typeof window?window:"undefined"!=typeof global?global:this,s={angle:0,speed:0,inertia:0,minimalSpeed:.001,minimalAngleChange:.1,step:0,stepTransitionTime:0,stepTransitionEasing:"linear",rotateParentInstantly:!1,touchElement:null};e.createMany=function(t,n){for(var i=[],s=0;s<t.length;s++)i.push(new e(t[s],n));return i};var o=e.prototype;o.initAngleGetterSetter=function(){n(this,"angle",function(){return this._angle},function(t){this._angle=t,this.virtualAngle=t,this.updateCSS()})},o.bindHandlers=function(){this.onRotationStart=this.onRotationStart.bind(this),this.onRotationStop=this.onRotationStop.bind(this),this.onRotated=this.onRotated.bind(this)},o.addListeners=function(){this.listenersInstalled=!0,"ontouchstart"in document.documentElement?(this.touchElement.addEventListener("touchstart",this.onRotationStart),this.touchElement.addEventListener("touchmove",this.onRotated),this.touchElement.addEventListener("touchend",this.onRotationStop),this.touchElement.addEventListener("touchcancel",this.onRotationStop),this.touchElement.addEventListener("dragstart",this.returnFalse)):(this.touchElement.addEventListener("mousedown",this.onRotationStart),this.touchElement.addEventListener("mousemove",this.onRotated),this.touchElement.addEventListener("mouseup",this.onRotationStop),this.touchElement.addEventListener("mouseleave",this.onRotationStop),this.touchElement.addEventListener("dragstart",this.returnFalse)),this.touchElement.ondragstart=this.returnFalse},o.removeListeners=function(){this.listenersInstalled=!1,"ontouchstart"in document.documentElement?(this.touchElement.removeEventListener("touchstart",this.onRotationStart),this.touchElement.removeEventListener("touchmove",this.onRotated),this.touchElement.removeEventListener("touchend",this.onRotationStop),this.touchElement.removeEventListener("touchcancel",this.onRotationStop),this.touchElement.removeEventListener("dragstart",this.returnFalse)):(this.touchElement.removeEventListener("mousedown",this.onRotationStart),this.touchElement.removeEventListener("mousemove",this.onRotated),this.touchElement.removeEventListener("mouseup",this.onRotationStop),this.touchElement.removeEventListener("mouseleave",this.onRotationStop),this.touchElement.removeEventListener("dragstart",this.returnFalse))},o.bind=function(){this.listenersInstalled!==!0&&this.addListeners()},o.unbind=function(){this.listenersInstalled===!0&&(this.removeListeners(),this.onRotationStop())},o.stop=function(){this.speed=0,this.onRotationStop()},o.onRotationStart=function(t){this.initCoordinates(),this.initDrag(),this.active=!0,void 0!==this.onDragStart&&this.onDragStart(),this.rotateParentInstantly===!1&&t.stopPropagation()},o.onRotationStop=function(){void 0!==this.onDragStop&&this.active===!0&&this.onDragStop(),this.active=!1},o.onRotated=function(t){this.active===!0&&(t.stopPropagation(),t.preventDefault(),void 0!==t.targetTouches&&void 0!==t.targetTouches[0]?this.lastMouseEvent={pageX:t.targetTouches[0].pageX,pageY:t.targetTouches[0].pageY}:this.lastMouseEvent={pageX:t.pageX||t.clientX,pageY:t.pageY||t.clientY})},o.update=function(){void 0!==this.lastMouseEvent&&this.active===!0&&this.updateAngleToMouse(this.lastMouseEvent),this.updateAngle(),this.applySpeed(),this.applyInertia(),Math.abs(this.lastAppliedAngle-this._angle)>=this.minimalAngleChange&&this.transiting===!1&&(this.updateCSS(),this.blockTransition(),void 0!==this.onRotate&&"function"==typeof this.onRotate&&this.onRotate.bind(this)(),this.lastAppliedAngle=this._angle),window.requestAnimationFrame(this.update)},o.updateAngle=function(){this.step>0?this._angle=this.getAngleFromVirtual():this._angle=this.normalizeAngle(this.virtualAngle)},o.getAngleFromVirtual=function(){return Math.ceil(this.virtualAngle/this.step)*this.step},o.normalizeAngle=function(t){var e=t;return e%=360,0>e&&(e=360+e),e},o.differenceBetweenAngles=function(t,e){var n=t*(Math.PI/180),i=e*(Math.PI/180),s=Math.atan2(Math.sin(n-i),Math.cos(n-i)),o=s*(180/Math.PI);return Math.round(100*o)/100},o.applySpeed=function(){this.inertia>0&&0!==this.speed&&this.active===!1&&(this.virtualAngle+=this.speed)},o.applyInertia=function(){this.inertia>0&&(Math.abs(this.speed)>=this.minimalSpeed?(this.speed=this.speed*this.inertia,this.active===!1&&Math.abs(this.speed)<this.minimalSpeed&&void 0!==this.onStop&&this.onStop()):0!==this.speed&&(this.speed=0))},o.updateAngleToMouse=function(t){var e=t.pageX-this.cx,n=t.pageY-this.cy,i=Math.atan2(e,n),o=i*(180/Math.PI*-1)+180;if(void 0===this.lastMouseAngle&&(this.lastElementAngle=this.virtualAngle,this.lastMouseAngle=o),this.stepTransitionTime!==s.stepTransitionTime)this.speed=this.mouseDiff=this.differenceBetweenAngles(o,this.lastMouseAngle),this.virtualAngle=this.lastElementAngle+this.mouseDiff,this.lastElementAngle=this.virtualAngle,this.lastMouseAngle=o;else{var a=this.virtualAngle;this.mouseDiff=o-this.lastMouseAngle,this.virtualAngle=this.lastElementAngle+this.mouseDiff;var r=this.virtualAngle;this.speed=this.differenceBetweenAngles(r,a)}},o.initCoordinates=function(){var t=this.getViewOffset();this.cx=t.x+this.element.offsetWidth/2,this.cy=t.y+this.element.offsetHeight/2},o.initDrag=function(){this.speed=0,this.lastMouseAngle=void 0,this.lastElementAngle=void 0,this.lastMouseEvent=void 0},o.initOptions=function(t){t=t||s,this.touchElement=document.querySelectorAll(t.touchElement)[0]||this.element,this.onRotate=t.onRotate||t.onrotate,this.onStop=t.onStop||t.onstop,this.onDragStop=t.onDragStop||t.ondragstop,this.onDragStart=t.onDragStart||t.ondragstart,this.step=t.step||s.step,this.stepTransitionTime=t.stepTransitionTime||s.stepTransitionTime,this.stepTransitionEasing=t.stepTransitionEasing||s.stepTransitionEasing,this.angle=t.angle||s.angle,this.speed=t.speed||s.speed,this.inertia=t.inertia||s.inertia,this.minimalSpeed=t.minimalSpeed||s.minimalSpeed,this.lastAppliedAngle=this.virtualAngle=this._angle=t.angle||s.angle,this.minimalAngleChange=this.step!==s.step?this.step:s.minimalAngleChange,this.rotateParentInstantly=t.rotateParentInstantly||s.rotateParentInstantly},o.initCSSPrefix=function(){void 0===e.cssPrefix&&("undefined"!=typeof document.body.style.transform?e.cssPrefix="":"undefined"!=typeof document.body.style.mozTransform?e.cssPrefix="-moz-":"undefined"!=typeof document.body.style.webkitTransform?e.cssPrefix="-webkit-":"undefined"!=typeof document.body.style.msTransform&&(e.cssPrefix="-ms-"))},o.initHardwareAcceleration=function(){this.accelerationPostfix="";var t,n=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(n,null);for(var s in i)void 0!==n.style[s]&&(n.style[s]="translate3d(1px,1px,1px)",t=window.getComputedStyle(n).getPropertyValue(i[s]));document.body.removeChild(n);var o=void 0!==t&&t.length>0&&"none"!==t;o===!0&&(this.accelerationPostfix="translateZ(0)",this.element.style[e.cssPrefix+"transform"]=this.accelerationPostfix,this.updateCSS())},o.initTransition=function(){if(this.stepTransitionTime!==s.stepTransitionTime){var t="all "+this.stepTransitionTime+"ms "+this.stepTransitionEasing;this.element.style[e.cssPrefix+"transition"]=t}},o.updateCSS=function(){this.element.style[e.cssPrefix+"transform"]="rotate("+this._angle+"deg) "+this.accelerationPostfix},o.blockTransition=function(){if(this.stepTransitionTime!==s.stepTransitionTime){var t=this;setTimeout(function(){t.transiting=!1},this.stepTransitionTime),this.transiting=!0}},o.getViewOffset=function(t){var n={x:0,y:0};return e.IEVersion!==!1&&e.IEVersion<9?(n.x=this.element.offsetLeft,n.y=this.element.offsetTop,n):(this.element&&this.addOffset(this.element,n,"defaultView"in document?document.defaultView:document.parentWindow),n)},o.addOffset=function(t,e,n){var i=t.offsetParent;if(e.x+=t.offsetLeft-(i?i.scrollLeft:0),e.y+=t.offsetTop-(i?i.scrollTop:0),i){if(1==i.nodeType){var s=n.getComputedStyle(i,"");if("static"!=s.position){if(e.x+=parseInt(s.borderLeftWidth),e.y+=parseInt(s.borderTopWidth),"table"==i.localName.toLowerCase())e.x+=parseInt(s.paddingLeft),e.y+=parseInt(s.paddingTop);else if("body"==i.localName.toLowerCase()){var o=n.getComputedStyle(t,"");e.x+=parseInt(o.marginLeft),e.y+=parseInt(o.marginTop)}}else"body"==i.localName.toLowerCase()&&(e.x+=parseInt(s.borderLeftWidth),e.y+=parseInt(s.borderTopWidth));for(var a=t.parentNode;i!=a;)e.x-=a.scrollLeft,e.y-=a.scrollTop,a=a.parentNode;this.addOffset(i,e,n)}}else{if("body"==t.localName.toLowerCase()){var o=n.getComputedStyle(t,"");e.x+=parseInt(o.borderLeftWidth),e.y+=parseInt(o.borderTopWidth);var r=n.getComputedStyle(t.parentNode,"");e.x+=parseInt(r.paddingLeft),e.y+=parseInt(r.paddingTop),e.x+=parseInt(r.marginLeft),e.y+=parseInt(r.marginTop)}t.scrollLeft&&(e.x+=t.scrollLeft),t.scrollTop&&(e.y+=t.scrollTop);var h=t.ownerDocument.defaultView;h&&h.frameElement&&this.addOffset(h.frameElement,e,h)}},o.returnFalse=function(){return!1};var a=navigator.userAgent.toLowerCase();e.IEVersion=-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1,e.deg2radians=2*Math.PI/360;var r=t(function(t,e,n){!function(n,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&"object"==typeof t?t.exports=i():n.smoothScroll=i()}(i,function(){if("object"==typeof window&&void 0!==document.querySelectorAll&&void 0!==window.pageYOffset&&void 0!==history.pushState){var t=function(t){return"HTML"===t.nodeName?-window.pageYOffset:t.getBoundingClientRect().top+window.pageYOffset},e=function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},n=function(t,n,i,s){return i>s?n:t+(n-t)*e(i/s)},i=function(e,i,s,o){i=i||500,o=o||window;var a=window.pageYOffset;if("number"==typeof e)var r=parseInt(e);else var r=t(e);var h=Date.now(),l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,15)},d=function(){var t=Date.now()-h;o!==window?o.scrollTop=n(a,r,t,i):window.scroll(0,n(a,r,t,i)),t>i?"function"==typeof s&&s(e):l(d)};d()};return i}})}),h=r&&"object"==typeof r&&"default"in r?r["default"]:r,l=document.querySelector(".logo__background");new e(l,{angle:Math.floor(360*Math.random()),inertia:.95,onDragStart:function(){return document.body.classList.add("js-grabbing")},onDragStop:function(){return document.body.classList.remove("js-grabbing")}});document.addEventListener("click",function(t){var e=t.target;if(e.classList.contains("scroll-arrow")){t.preventDefault();var n=document.querySelector(e.hash);h(n),window.history.replaceState(null,window.title,e.hash)}})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9qcy9wcm9wZWxsZXIuanMiLCIuLi8uLi9zcmMvanMvc21vb3Roc2Nyb2xsLmpzIiwiLi4vLi4vc3JjL2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogICAgICAgICAgICAgICAgICAgICAgICAgIC4gLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgfCAgICAgICAgICAgIG9cbiAqICAgICAgOy0uIDstLiAsLS4gOy0uICwtLiB8IHwgLC0uIDstLiAgICAsICwtLlxuICogICAgICB8IHwgfCAgIHwgfCB8IHwgfC0nIHwgfCB8LScgfCAgICAgIHwgYC0uXG4gKiAgICAgIHwtJyAnICAgYC0nIHwtJyBgLScgJyAnIGAtJyAnICAgbyAgfCBgLSdcbiAqICAgICAgJyAgICAgICAgICAgJyAgICAgICAgICAgICAgICAgICAgIC0nXG4gKlxuICogICAgICBodHRwOi8vcGl4ZWxzY29tbWFuZGVyLmNvbS9wb2x5Z29uL3Byb3BlbGxlci9leGFtcGxlL1xuICogICAgICBqUXVlcnkgcGx1Z2luIHRvIHJvdGF0ZSBIVE1MIGVsZW1lbnRzIGJ5IG1vdXNlLiBXaXRoIGluZXJ0aWEgb3Igd2l0aG91dCBpdC5cbiAqXG4gKiAgICAgIENvcHlyaWdodCAoYykgMjAxNCBEZW5pcyBSYWRpblxuICogICAgICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKlxuICogICAgICBUaXRsZSBnZW5lcmF0ZWQgdXNpbmcgXCJzcGVlZFwiIGh0dHA6Ly9wYXRvcmprLmNvbS9zb2Z0d2FyZS90YWFnLyNwPWRpc3BsYXkmZj1TaGltcm9kJnQ9cHJvcGVsbGVyLmpzXG4gKiAgICAgIEluc3BpcmVkIGJ5IEJyaWFuIEdvbnphbGV6XG4gKi9cblxuLyoqXG4gKiBDaGFuZ2VzIGZyb20gb3JpZ2luYWw6XG4gKiAtIENsZWFuZWQgdXAgdG8gd29yayBhcyBhIG1vZHVsZS5cbiAqIC0gU3RyaXAgcG9seWZpbGxzXG4gKiAtIFN0cmlwIGpRdWVyeSBwbHVnaW4gY29kZVxuICovXG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhbmdsZTogMCxcbiAgICBzcGVlZDogMCxcbiAgICBpbmVydGlhOiAwLFxuICAgIG1pbmltYWxTcGVlZDogMC4wMDEsXG4gICAgbWluaW1hbEFuZ2xlQ2hhbmdlOiAwLjEsXG4gICAgc3RlcDogMCxcbiAgICBzdGVwVHJhbnNpdGlvblRpbWU6IDAsXG4gICAgc3RlcFRyYW5zaXRpb25FYXNpbmc6ICdsaW5lYXInLFxuICAgIHJvdGF0ZVBhcmVudEluc3RhbnRseTogZmFsc2UsXG4gICAgdG91Y2hFbGVtZW50OiBudWxsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcm9wZWxsZXIgKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmV0dXJuIFByb3BlbGxlci5jcmVhdGVNYW55KGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF07XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMudHJhbnNpdGluZyA9IGZhbHNlO1xuICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuaW5pdENTU1ByZWZpeCgpO1xuICAgIHRoaXMuaW5pdEFuZ2xlR2V0dGVyU2V0dGVyKCk7XG4gICAgdGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTtcbiAgICB0aGlzLmluaXRIYXJkd2FyZUFjY2VsZXJhdGlvbigpO1xuICAgIHRoaXMuaW5pdFRyYW5zaXRpb24oKTtcbiAgICB0aGlzLmJpbmRIYW5kbGVycygpO1xuICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XG4gICAgdGhpcy51cGRhdGUoKTtcbn07XG5cblByb3BlbGxlci5jcmVhdGVNYW55ID0gZnVuY3Rpb24gKG5vZGVzLCBvcHRpb25zKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobmV3IFByb3BlbGxlcihub2Rlc1tpXSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHAgPSBQcm9wZWxsZXIucHJvdG90eXBlO1xuXG5wLmluaXRBbmdsZUdldHRlclNldHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBnZXR0ZXJTZXR0ZXIodGhpcywgJ2FuZ2xlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5nbGVcbiAgICB9LCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYW5nbGUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy52aXJ0dWFsQW5nbGUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVDU1MoKTtcbiAgICB9KTtcbn1cblxucC5iaW5kSGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5vblJvdGF0aW9uU3RhcnQgPSB0aGlzLm9uUm90YXRpb25TdGFydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Sb3RhdGlvblN0b3AgPSB0aGlzLm9uUm90YXRpb25TdG9wLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblJvdGF0ZWQgPSB0aGlzLm9uUm90YXRlZC5iaW5kKHRoaXMpO1xufVxuXG5wLmFkZExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmxpc3RlbmVyc0luc3RhbGxlZCA9IHRydWU7XG5cbiAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgIHRoaXMudG91Y2hFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUm90YXRpb25TdGFydCk7XG4gICAgICAgIHRoaXMudG91Y2hFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Sb3RhdGVkKTtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUm90YXRpb25TdG9wKTtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUm90YXRpb25TdG9wKTtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpcy5yZXR1cm5GYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblJvdGF0aW9uU3RhcnQpO1xuICAgICAgICB0aGlzLnRvdWNoRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUm90YXRlZCk7XG4gICAgICAgIHRoaXMudG91Y2hFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUm90YXRpb25TdG9wKTtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Sb3RhdGlvblN0b3ApO1xuICAgICAgICB0aGlzLnRvdWNoRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLnJldHVybkZhbHNlKTtcbiAgICB9XG5cbiAgICB0aGlzLnRvdWNoRWxlbWVudC5vbmRyYWdzdGFydCA9IHRoaXMucmV0dXJuRmFsc2U7XG59XG5cbnAucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubGlzdGVuZXJzSW5zdGFsbGVkID0gZmFsc2U7XG5cbiAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgIHRoaXMudG91Y2hFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUm90YXRpb25TdGFydCk7XG4gICAgICAgIHRoaXMudG91Y2hFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Sb3RhdGVkKTtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUm90YXRpb25TdG9wKTtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUm90YXRpb25TdG9wKTtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpcy5yZXR1cm5GYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblJvdGF0aW9uU3RhcnQpO1xuICAgICAgICB0aGlzLnRvdWNoRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUm90YXRlZCk7XG4gICAgICAgIHRoaXMudG91Y2hFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUm90YXRpb25TdG9wKTtcbiAgICAgICAgdGhpcy50b3VjaEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMub25Sb3RhdGlvblN0b3ApO1xuICAgICAgICB0aGlzLnRvdWNoRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLnJldHVybkZhbHNlKTtcbiAgICB9XG59XG5cbnAuYmluZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5saXN0ZW5lcnNJbnN0YWxsZWQgIT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcbiAgICB9XG59XG5cbnAudW5iaW5kID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmxpc3RlbmVyc0luc3RhbGxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgICAgICB0aGlzLm9uUm90YXRpb25TdG9wKCk7XG4gICAgfVxufVxuXG5wLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zcGVlZCA9IDA7XG4gICAgdGhpcy5vblJvdGF0aW9uU3RvcCgpO1xufVxuXG5wLm9uUm90YXRpb25TdGFydCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vSW5pdGlhbGl6ZXMgY29vcmRpbmF0ZXMgaWYgb2JqZWN0IHdhcyBtb3ZlZFxuICAgIHRoaXMuaW5pdENvb3JkaW5hdGVzKCk7XG4gICAgdGhpcy5pbml0RHJhZygpO1xuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcblxuICAgIC8vRXhlY3V0ZSBvbkRyYWdTdGFydCBjYWxsYmFjayBpZiBzdG9wcGVkXG4gICAgaWYgKHRoaXMub25EcmFnU3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucm90YXRlUGFyZW50SW5zdGFudGx5ID09PSBmYWxzZSkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG59XG5cbnAub25Sb3RhdGlvblN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9FeGVjdXRlIG9uRHJhZ1N0b3AgY2FsbGJhY2sgaWYgc3RvcHBlZFxuICAgIGlmICh0aGlzLm9uRHJhZ1N0b3AgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmFjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLm9uRHJhZ1N0b3AoKTtcbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xufVxuXG5wLm9uUm90YXRlZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0VG91Y2hlcyAhPT0gdW5kZWZpbmVkICYmIGV2ZW50LnRhcmdldFRvdWNoZXNbMF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5sYXN0TW91c2VFdmVudCA9IHtcbiAgICAgICAgICAgICAgICBwYWdlWDogZXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCxcbiAgICAgICAgICAgICAgICBwYWdlWTogZXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sYXN0TW91c2VFdmVudCA9IHtcbiAgICAgICAgICAgICAgICBwYWdlWDogZXZlbnQucGFnZVggfHwgZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICBwYWdlWTogZXZlbnQucGFnZVkgfHwgZXZlbnQuY2xpZW50WVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5wLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL0NhbGN1bGF0aW5nIGFuZ2xlIG9uIHJlcXVlc3RBbmltYXRpb25GcmFtZSBvbmx5IGZvciBvcHRpbWlzYXRpb24gcHVycG9zZXNcbiAgICBpZiAodGhpcy5sYXN0TW91c2VFdmVudCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuYWN0aXZlID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQW5nbGVUb01vdXNlKHRoaXMubGFzdE1vdXNlRXZlbnQpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlQW5nbGUoKTtcbiAgICB0aGlzLmFwcGx5U3BlZWQoKTtcbiAgICB0aGlzLmFwcGx5SW5lcnRpYSgpO1xuXG4gICAgaWYgKE1hdGguYWJzKHRoaXMubGFzdEFwcGxpZWRBbmdsZSAtIHRoaXMuX2FuZ2xlKSA+PSB0aGlzLm1pbmltYWxBbmdsZUNoYW5nZSAmJiB0aGlzLnRyYW5zaXRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlQ1NTKCk7XG5cbiAgICAgICAgLy9QcmV2ZW50cyBuZXcgdHJhbnNpdGlvbiBiZWZvcmUgb2xkIGlzIGNvbXBsZXRlZFxuICAgICAgICB0aGlzLmJsb2NrVHJhbnNpdGlvbigpO1xuXG4gICAgICAgIGlmICh0aGlzLm9uUm90YXRlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHRoaXMub25Sb3RhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub25Sb3RhdGUuYmluZCh0aGlzKSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXN0QXBwbGllZEFuZ2xlID0gdGhpcy5fYW5nbGU7XG5cbiAgICB9XG5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlKTtcbn1cblxucC51cGRhdGVBbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zdGVwID4gMCkge1xuICAgICAgICB0aGlzLl9hbmdsZSA9IHRoaXMuZ2V0QW5nbGVGcm9tVmlydHVhbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FuZ2xlID0gdGhpcy5ub3JtYWxpemVBbmdsZSh0aGlzLnZpcnR1YWxBbmdsZSk7XG4gICAgfVxufVxuXG5wLmdldEFuZ2xlRnJvbVZpcnR1YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLnZpcnR1YWxBbmdsZSAvIHRoaXMuc3RlcCkgKiB0aGlzLnN0ZXA7XG59XG5cbnAubm9ybWFsaXplQW5nbGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gYW5nbGU7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICUgMzYwO1xuICAgIGlmIChyZXN1bHQgPCAwKSB7XG4gICAgICAgIHJlc3VsdCA9IDM2MCArIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxucC5kaWZmZXJlbmNlQmV0d2VlbkFuZ2xlcyA9IGZ1bmN0aW9uIChuZXdBbmdsZSwgb2xkQW5nbGUpIHtcbiAgICB2YXIgYTEgPSBuZXdBbmdsZSAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICB2YXIgYTIgPSBvbGRBbmdsZSAqIChNYXRoLlBJIC8gMTgwKTtcbiAgICB2YXIgcmFkaWFucyA9IE1hdGguYXRhbjIoTWF0aC5zaW4oYTEgLSBhMiksIE1hdGguY29zKGExIC0gYTIpKTtcbiAgICB2YXIgZGVncmVlcyA9IHJhZGlhbnMgKiAoMTgwIC8gTWF0aC5QSSk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoZGVncmVlcyAqIDEwMCkgLyAxMDA7XG59XG5cbnAuYXBwbHlTcGVlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pbmVydGlhID4gMCAmJiB0aGlzLnNwZWVkICE9PSAwICYmIHRoaXMuYWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnZpcnR1YWxBbmdsZSArPSB0aGlzLnNwZWVkO1xuICAgIH1cbn1cblxucC5hcHBseUluZXJ0aWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaW5lcnRpYSA+IDApIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMuc3BlZWQpID49IHRoaXMubWluaW1hbFNwZWVkKSB7XG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gdGhpcy5zcGVlZCAqIHRoaXMuaW5lcnRpYTtcblxuICAgICAgICAgICAgLy9FeGVjdXRlIG9uU3RvcCBjYWxsYmFjayBpZiBzdG9wcGVkXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IGZhbHNlICYmIE1hdGguYWJzKHRoaXMuc3BlZWQpIDwgdGhpcy5taW5pbWFsU3BlZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vblN0b3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNwZWVkICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gMDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxucC51cGRhdGVBbmdsZVRvTW91c2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgeERpZmYgPSBldmVudC5wYWdlWCAtIHRoaXMuY3g7XG4gICAgdmFyIHlEaWZmID0gZXZlbnQucGFnZVkgLSB0aGlzLmN5O1xuXG4gICAgdmFyIG1vdXNlUmFkaWFucyA9IE1hdGguYXRhbjIoeERpZmYsIHlEaWZmKTtcbiAgICB2YXIgbW91c2VEZWdyZWVzID0gbW91c2VSYWRpYW5zICogKDE4MCAvIE1hdGguUEkgKiAtMSkgKyAxODA7XG5cbiAgICBpZiAodGhpcy5sYXN0TW91c2VBbmdsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubGFzdEVsZW1lbnRBbmdsZSA9IHRoaXMudmlydHVhbEFuZ2xlO1xuICAgICAgICB0aGlzLmxhc3RNb3VzZUFuZ2xlID0gbW91c2VEZWdyZWVzO1xuICAgIH1cblxuICAgIC8vQXQgdGhpcyBtb21lbnQgd2UgaGF2ZSB0byB1c2Ugc3BlY2lmaWMgYWxnb3JpdGhtIHdoZW4gQ1NTIHRyYW5zaXRpb24gaXMgZW5hYmxlZC4gVXNpbmcgc2FtZSBhcHByb2FjaCB3aGVuIHRyYW5zaXRpb24gaXMgZGlzYWJsZWQgbGVhZCB0byB3b3JzZSBwcmVjaXNpb24uXG4gICAgLy9UT0RPIERldmVsb3AgdW5pdmVyc2FsIGFsZ29yaXRobSB0byBzdXBwb3J0IHRyYW5zaXRpb25zIGFuZCBhbGxvdyBnb29kIHByZWNpc2lvbiBhdCBvbmNlXG4gICAgaWYgKHRoaXMuc3RlcFRyYW5zaXRpb25UaW1lICE9PSBkZWZhdWx0cy5zdGVwVHJhbnNpdGlvblRpbWUpIHtcbiAgICAgICAgdGhpcy5zcGVlZCA9IHRoaXMubW91c2VEaWZmID0gdGhpcy5kaWZmZXJlbmNlQmV0d2VlbkFuZ2xlcyhtb3VzZURlZ3JlZXMsIHRoaXMubGFzdE1vdXNlQW5nbGUpO1xuICAgICAgICB0aGlzLnZpcnR1YWxBbmdsZSA9IHRoaXMubGFzdEVsZW1lbnRBbmdsZSArIHRoaXMubW91c2VEaWZmO1xuICAgICAgICB0aGlzLmxhc3RFbGVtZW50QW5nbGUgPSB0aGlzLnZpcnR1YWxBbmdsZTtcbiAgICAgICAgdGhpcy5sYXN0TW91c2VBbmdsZSA9IG1vdXNlRGVncmVlcztcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb2xkQW5nbGUgPSB0aGlzLnZpcnR1YWxBbmdsZTtcbiAgICAgICAgdGhpcy5tb3VzZURpZmYgPSBtb3VzZURlZ3JlZXMgLSB0aGlzLmxhc3RNb3VzZUFuZ2xlO1xuICAgICAgICB0aGlzLnZpcnR1YWxBbmdsZSA9IHRoaXMubGFzdEVsZW1lbnRBbmdsZSArIHRoaXMubW91c2VEaWZmO1xuICAgICAgICB2YXIgbmV3QW5nbGUgPSB0aGlzLnZpcnR1YWxBbmdsZTtcbiAgICAgICAgdGhpcy5zcGVlZCA9IHRoaXMuZGlmZmVyZW5jZUJldHdlZW5BbmdsZXMobmV3QW5nbGUsIG9sZEFuZ2xlKTtcbiAgICB9XG59XG5cbnAuaW5pdENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbGVtZW50T2Zmc2V0ID0gdGhpcy5nZXRWaWV3T2Zmc2V0KCk7XG4gICAgdGhpcy5jeCA9IGVsZW1lbnRPZmZzZXQueCArICh0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGggLyAyKTtcbiAgICB0aGlzLmN5ID0gZWxlbWVudE9mZnNldC55ICsgKHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQgLyAyKTtcbn1cblxucC5pbml0RHJhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNwZWVkID0gMDtcbiAgICB0aGlzLmxhc3RNb3VzZUFuZ2xlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubGFzdEVsZW1lbnRBbmdsZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxhc3RNb3VzZUV2ZW50ID0gdW5kZWZpbmVkO1xufVxuXG5wLmluaXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0cztcblxuICAgIHRoaXMudG91Y2hFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvcHRpb25zLnRvdWNoRWxlbWVudClbMF0gfHwgdGhpcy5lbGVtZW50O1xuXG4gICAgdGhpcy5vblJvdGF0ZSA9IG9wdGlvbnMub25Sb3RhdGUgfHwgb3B0aW9ucy5vbnJvdGF0ZTtcbiAgICB0aGlzLm9uU3RvcCA9IG9wdGlvbnMub25TdG9wIHx8IG9wdGlvbnMub25zdG9wO1xuICAgIHRoaXMub25EcmFnU3RvcCA9IG9wdGlvbnMub25EcmFnU3RvcCB8fCBvcHRpb25zLm9uZHJhZ3N0b3A7XG4gICAgdGhpcy5vbkRyYWdTdGFydCA9IG9wdGlvbnMub25EcmFnU3RhcnQgfHwgb3B0aW9ucy5vbmRyYWdzdGFydDtcblxuICAgIHRoaXMuc3RlcCA9IG9wdGlvbnMuc3RlcCB8fCBkZWZhdWx0cy5zdGVwO1xuICAgIHRoaXMuc3RlcFRyYW5zaXRpb25UaW1lID0gb3B0aW9ucy5zdGVwVHJhbnNpdGlvblRpbWUgfHwgZGVmYXVsdHMuc3RlcFRyYW5zaXRpb25UaW1lO1xuICAgIHRoaXMuc3RlcFRyYW5zaXRpb25FYXNpbmcgPSBvcHRpb25zLnN0ZXBUcmFuc2l0aW9uRWFzaW5nIHx8IGRlZmF1bHRzLnN0ZXBUcmFuc2l0aW9uRWFzaW5nO1xuXG4gICAgdGhpcy5hbmdsZSA9IG9wdGlvbnMuYW5nbGUgfHwgZGVmYXVsdHMuYW5nbGU7XG4gICAgdGhpcy5zcGVlZCA9IG9wdGlvbnMuc3BlZWQgfHwgZGVmYXVsdHMuc3BlZWQ7XG4gICAgdGhpcy5pbmVydGlhID0gb3B0aW9ucy5pbmVydGlhIHx8IGRlZmF1bHRzLmluZXJ0aWE7XG4gICAgdGhpcy5taW5pbWFsU3BlZWQgPSBvcHRpb25zLm1pbmltYWxTcGVlZCB8fCBkZWZhdWx0cy5taW5pbWFsU3BlZWQ7XG4gICAgdGhpcy5sYXN0QXBwbGllZEFuZ2xlID0gdGhpcy52aXJ0dWFsQW5nbGUgPSB0aGlzLl9hbmdsZSA9IG9wdGlvbnMuYW5nbGUgfHwgZGVmYXVsdHMuYW5nbGU7XG4gICAgdGhpcy5taW5pbWFsQW5nbGVDaGFuZ2UgPSB0aGlzLnN0ZXAgIT09IGRlZmF1bHRzLnN0ZXAgPyB0aGlzLnN0ZXAgOiBkZWZhdWx0cy5taW5pbWFsQW5nbGVDaGFuZ2U7XG4gICAgdGhpcy5yb3RhdGVQYXJlbnRJbnN0YW50bHkgPSBvcHRpb25zLnJvdGF0ZVBhcmVudEluc3RhbnRseSB8fCBkZWZhdWx0cy5yb3RhdGVQYXJlbnRJbnN0YW50bHk7XG59XG5cbnAuaW5pdENTU1ByZWZpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoUHJvcGVsbGVyLmNzc1ByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YoZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0pICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBQcm9wZWxsZXIuY3NzUHJlZml4ID0gJyc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGRvY3VtZW50LmJvZHkuc3R5bGUubW96VHJhbnNmb3JtKSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgUHJvcGVsbGVyLmNzc1ByZWZpeCA9ICctbW96LSc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0VHJhbnNmb3JtKSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgUHJvcGVsbGVyLmNzc1ByZWZpeCA9ICctd2Via2l0LSc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGRvY3VtZW50LmJvZHkuc3R5bGUubXNUcmFuc2Zvcm0pICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBQcm9wZWxsZXIuY3NzUHJlZml4ID0gJy1tcy0nO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5wLmluaXRIYXJkd2FyZUFjY2VsZXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFjY2VsZXJhdGlvblBvc3RmaXggPSAnJztcblxuICAgIC8vQ2hlY2sgZm9yIENTUzNkIHN1cHBvcnRcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXG4gICAgICAgIGhhczNkLFxuICAgICAgICB0cmFuc2Zvcm1zID0ge1xuICAgICAgICAgICAgJ3dlYmtpdFRyYW5zZm9ybSc6ICctd2Via2l0LXRyYW5zZm9ybScsXG4gICAgICAgICAgICAnT1RyYW5zZm9ybSc6ICctby10cmFuc2Zvcm0nLFxuICAgICAgICAgICAgJ21zVHJhbnNmb3JtJzogJy1tcy10cmFuc2Zvcm0nLFxuICAgICAgICAgICAgJ01velRyYW5zZm9ybSc6ICctbW96LXRyYW5zZm9ybScsXG4gICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zZm9ybSdcbiAgICAgICAgfTtcblxuICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGVsLCBudWxsKTtcblxuICAgIGZvciAodmFyIHQgaW4gdHJhbnNmb3Jtcykge1xuICAgICAgICBpZiAoZWwuc3R5bGVbdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWwuc3R5bGVbdF0gPSBcInRyYW5zbGF0ZTNkKDFweCwxcHgsMXB4KVwiO1xuICAgICAgICAgICAgaGFzM2QgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh0cmFuc2Zvcm1zW3RdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xuXG4gICAgdmFyIHN1cHBvcnRlZCA9IChoYXMzZCAhPT0gdW5kZWZpbmVkICYmIGhhczNkLmxlbmd0aCA+IDAgJiYgaGFzM2QgIT09IFwibm9uZVwiKTtcblxuICAgIC8vSWYgQ1NTM2QgaXMgc3VwcG9ydGVkIHRoZW4gYW5uIHRyYW5zbGF0ZVogaGFjayB0byBlbmFibGUgR1BVIGFjY2VsZXJhdGlvbiBvbiBsYXllclxuICAgIGlmIChzdXBwb3J0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5hY2NlbGVyYXRpb25Qb3N0Zml4ID0gJ3RyYW5zbGF0ZVooMCknO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGVbUHJvcGVsbGVyLmNzc1ByZWZpeCArICd0cmFuc2Zvcm0nXSA9IHRoaXMuYWNjZWxlcmF0aW9uUG9zdGZpeDtcbiAgICAgICAgdGhpcy51cGRhdGVDU1MoKTtcbiAgICB9XG59XG5cbnAuaW5pdFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc3RlcFRyYW5zaXRpb25UaW1lICE9PSBkZWZhdWx0cy5zdGVwVHJhbnNpdGlvblRpbWUpIHtcbiAgICAgICAgdmFyIHByb3AgPSAnYWxsICcgKyB0aGlzLnN0ZXBUcmFuc2l0aW9uVGltZSArICdtcyAnICsgdGhpcy5zdGVwVHJhbnNpdGlvbkVhc2luZztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlW1Byb3BlbGxlci5jc3NQcmVmaXggKyAndHJhbnNpdGlvbiddID0gcHJvcDtcbiAgICB9XG59XG5cbnAudXBkYXRlQ1NTID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZVtQcm9wZWxsZXIuY3NzUHJlZml4ICsgJ3RyYW5zZm9ybSddID0gJ3JvdGF0ZSgnICsgdGhpcy5fYW5nbGUgKyAnZGVnKSAnICsgdGhpcy5hY2NlbGVyYXRpb25Qb3N0Zml4O1xufVxuXG5cbnAuYmxvY2tUcmFuc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnN0ZXBUcmFuc2l0aW9uVGltZSAhPT0gZGVmYXVsdHMuc3RlcFRyYW5zaXRpb25UaW1lKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnRyYW5zaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSwgdGhpcy5zdGVwVHJhbnNpdGlvblRpbWUpO1xuICAgICAgICB0aGlzLnRyYW5zaXRpbmcgPSB0cnVlO1xuICAgIH1cbn1cblxuLy9DYWxjdWxhdGluZyBwYWdlWCwgcGFnZVkgZm9yIGVsZW1lbnRzIHdpdGggb2Zmc2V0IHBhcmVudHNcbnAuZ2V0Vmlld09mZnNldCA9IGZ1bmN0aW9uIChzaW5nbGVGcmFtZSkge1xuICAgIHZhciBjb29yZHMgPSB7eDogMCwgeTogMH07XG5cbiAgICBpZiAoUHJvcGVsbGVyLklFVmVyc2lvbiAhPT0gZmFsc2UgJiYgUHJvcGVsbGVyLklFVmVyc2lvbiA8IDkpIHtcbiAgICAgICAgY29vcmRzLnggPSB0aGlzLmVsZW1lbnQub2Zmc2V0TGVmdDtcbiAgICAgICAgY29vcmRzLnkgPSB0aGlzLmVsZW1lbnQub2Zmc2V0VG9wO1xuICAgICAgICByZXR1cm4gY29vcmRzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmVsZW1lbnQpXG4gICAgICAgIHRoaXMuYWRkT2Zmc2V0KHRoaXMuZWxlbWVudCwgY29vcmRzLCAnZGVmYXVsdFZpZXcnIGluIGRvY3VtZW50ID8gZG9jdW1lbnQuZGVmYXVsdFZpZXcgOiBkb2N1bWVudC5wYXJlbnRXaW5kb3cpO1xuXG4gICAgcmV0dXJuIGNvb3Jkcztcbn1cblxucC5hZGRPZmZzZXQgPSBmdW5jdGlvbiAobm9kZSwgY29vcmRzLCB2aWV3KSB7XG4gICAgdmFyIHAgPSBub2RlLm9mZnNldFBhcmVudDtcbiAgICBjb29yZHMueCArPSBub2RlLm9mZnNldExlZnQgLSAocCA/IHAuc2Nyb2xsTGVmdCA6IDApO1xuICAgIGNvb3Jkcy55ICs9IG5vZGUub2Zmc2V0VG9wIC0gKHAgPyBwLnNjcm9sbFRvcCA6IDApO1xuXG4gICAgaWYgKHApIHtcbiAgICAgICAgaWYgKHAubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgdmFyIHBhcmVudFN0eWxlID0gdmlldy5nZXRDb21wdXRlZFN0eWxlKHAsICcnKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRTdHlsZS5wb3NpdGlvbiAhPSAnc3RhdGljJykge1xuICAgICAgICAgICAgICAgIGNvb3Jkcy54ICs9IHBhcnNlSW50KHBhcmVudFN0eWxlLmJvcmRlckxlZnRXaWR0aCk7XG4gICAgICAgICAgICAgICAgY29vcmRzLnkgKz0gcGFyc2VJbnQocGFyZW50U3R5bGUuYm9yZGVyVG9wV2lkdGgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHAubG9jYWxOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgICAgICAgICBjb29yZHMueCArPSBwYXJzZUludChwYXJlbnRTdHlsZS5wYWRkaW5nTGVmdCk7XG4gICAgICAgICAgICAgICAgICAgIGNvb3Jkcy55ICs9IHBhcnNlSW50KHBhcmVudFN0eWxlLnBhZGRpbmdUb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09ICdib2R5Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB2aWV3LmdldENvbXB1dGVkU3R5bGUobm9kZSwgJycpO1xuICAgICAgICAgICAgICAgICAgICBjb29yZHMueCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzLnkgKz0gcGFyc2VJbnQoc3R5bGUubWFyZ2luVG9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09ICdib2R5Jykge1xuICAgICAgICAgICAgICAgIGNvb3Jkcy54ICs9IHBhcnNlSW50KHBhcmVudFN0eWxlLmJvcmRlckxlZnRXaWR0aCk7XG4gICAgICAgICAgICAgICAgY29vcmRzLnkgKz0gcGFyc2VJbnQocGFyZW50U3R5bGUuYm9yZGVyVG9wV2lkdGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgd2hpbGUgKHAgIT0gcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgY29vcmRzLnggLT0gcGFyZW50LnNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgY29vcmRzLnkgLT0gcGFyZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRkT2Zmc2V0KHAsIGNvb3Jkcywgdmlldyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChub2RlLmxvY2FsTmFtZS50b0xvd2VyQ2FzZSgpID09ICdib2R5Jykge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gdmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsICcnKTtcbiAgICAgICAgICAgIGNvb3Jkcy54ICs9IHBhcnNlSW50KHN0eWxlLmJvcmRlckxlZnRXaWR0aCk7XG4gICAgICAgICAgICBjb29yZHMueSArPSBwYXJzZUludChzdHlsZS5ib3JkZXJUb3BXaWR0aCk7XG5cbiAgICAgICAgICAgIHZhciBodG1sU3R5bGUgPSB2aWV3LmdldENvbXB1dGVkU3R5bGUobm9kZS5wYXJlbnROb2RlLCAnJyk7XG4gICAgICAgICAgICBjb29yZHMueCArPSBwYXJzZUludChodG1sU3R5bGUucGFkZGluZ0xlZnQpO1xuICAgICAgICAgICAgY29vcmRzLnkgKz0gcGFyc2VJbnQoaHRtbFN0eWxlLnBhZGRpbmdUb3ApO1xuICAgICAgICAgICAgY29vcmRzLnggKz0gcGFyc2VJbnQoaHRtbFN0eWxlLm1hcmdpbkxlZnQpO1xuICAgICAgICAgICAgY29vcmRzLnkgKz0gcGFyc2VJbnQoaHRtbFN0eWxlLm1hcmdpblRvcCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS5zY3JvbGxMZWZ0KVxuICAgICAgICAgICAgY29vcmRzLnggKz0gbm9kZS5zY3JvbGxMZWZ0O1xuICAgICAgICBpZiAobm9kZS5zY3JvbGxUb3ApXG4gICAgICAgICAgICBjb29yZHMueSArPSBub2RlLnNjcm9sbFRvcDtcblxuICAgICAgICB2YXIgd2luID0gbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuICAgICAgICBpZiAod2luICYmICh3aW4uZnJhbWVFbGVtZW50KSlcbiAgICAgICAgICAgIHRoaXMuYWRkT2Zmc2V0KHdpbi5mcmFtZUVsZW1lbnQsIGNvb3Jkcywgd2luKTtcbiAgICB9XG59XG5cbnAucmV0dXJuRmFsc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgbmF2ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuUHJvcGVsbGVyLklFVmVyc2lvbiA9IChuYXYuaW5kZXhPZignbXNpZScpICE9IC0xKSA/IHBhcnNlSW50KG5hdi5zcGxpdCgnbXNpZScpWzFdKSA6IGZhbHNlO1xuUHJvcGVsbGVyLmRlZzJyYWRpYW5zID0gTWF0aC5QSSAqIDIgLyAzNjA7XG5cbmZ1bmN0aW9uIGdldHRlclNldHRlcih2YXJpYWJsZVBhcmVudCwgdmFyaWFibGVOYW1lLCBnZXR0ZXJGdW5jdGlvbiwgc2V0dGVyRnVuY3Rpb24pIHtcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YXJpYWJsZVBhcmVudCwgdmFyaWFibGVOYW1lLCB7XG4gICAgICAgICAgICBnZXQ6IGdldHRlckZ1bmN0aW9uLFxuICAgICAgICAgICAgc2V0OiBzZXR0ZXJGdW5jdGlvblxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZG9jdW1lbnQuX19kZWZpbmVHZXR0ZXJfXykge1xuICAgICAgICB2YXJpYWJsZVBhcmVudC5fX2RlZmluZUdldHRlcl9fKHZhcmlhYmxlTmFtZSwgZ2V0dGVyRnVuY3Rpb24pO1xuICAgICAgICB2YXJpYWJsZVBhcmVudC5fX2RlZmluZVNldHRlcl9fKHZhcmlhYmxlTmFtZSwgc2V0dGVyRnVuY3Rpb24pO1xuICAgIH1cbn1cbiIsIihmdW5jdGlvbiAocm9vdCwgc21vb3RoU2Nyb2xsKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTdXBwb3J0IFJlcXVpcmVKUyBhbmQgQ29tbW9uSlMvTm9kZUpTIG1vZHVsZSBmb3JtYXRzLlxuICAvLyBBdHRhY2ggc21vb3RoU2Nyb2xsIHRvIHRoZSBgd2luZG93YCB3aGVuIGV4ZWN1dGVkIGFzIGEgPHNjcmlwdD4uXG5cbiAgLy8gUmVxdWlyZUpTXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoc21vb3RoU2Nyb2xsKTtcblxuICAvLyBDb21tb25KU1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gc21vb3RoU2Nyb2xsKCk7XG5cbiAgfSBlbHNlIHtcbiAgICByb290LnNtb290aFNjcm9sbCA9IHNtb290aFNjcm9sbCgpO1xuICB9XG5cbn0pKHRoaXMsIGZ1bmN0aW9uKCl7XG4ndXNlIHN0cmljdCc7XG5cbi8vIERvIG5vdCBpbml0aWFsaXplIHNtb290aFNjcm9sbCB3aGVuIHJ1bm5pbmcgc2VydmVyIHNpZGUsIGhhbmRsZSBpdCBpbiBjbGllbnQ6XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ29iamVjdCcpIHJldHVybjtcblxuLy8gV2UgZG8gbm90IHdhbnQgdGhpcyBzY3JpcHQgdG8gYmUgYXBwbGllZCBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRob3NlXG4vLyBUaGF0IG1lYW5zIG5vIHNtb290aHNjcm9sbCBvbiBJRTkgYW5kIGJlbG93LlxuaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCA9PT0gdm9pZCAwIHx8IHdpbmRvdy5wYWdlWU9mZnNldCA9PT0gdm9pZCAwIHx8IGhpc3RvcnkucHVzaFN0YXRlID09PSB2b2lkIDApIHsgcmV0dXJuOyB9XG5cbi8vIEdldCB0aGUgdG9wIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgaW4gdGhlIGRvY3VtZW50XG52YXIgZ2V0VG9wID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIC8vIHJldHVybiB2YWx1ZSBvZiBodG1sLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAuLi4gSUUgOiAwLCBvdGhlciBicm93c2VycyA6IC1wYWdlWU9mZnNldFxuICAgIGlmKGVsZW1lbnQubm9kZU5hbWUgPT09ICdIVE1MJykgcmV0dXJuIC13aW5kb3cucGFnZVlPZmZzZXRcbiAgICByZXR1cm4gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG59XG4vLyBlYXNlIGluIG91dCBmdW5jdGlvbiB0aGFua3MgdG86XG4vLyBodHRwOi8vYmxvZy5ncmV3ZWIuZnIvMjAxMi8wMi9iZXppZXItY3VydmUtYmFzZWQtZWFzaW5nLWZ1bmN0aW9ucy1mcm9tLWNvbmNlcHQtdG8taW1wbGVtZW50YXRpb24vXG52YXIgZWFzZUluT3V0Q3ViaWMgPSBmdW5jdGlvbiAodCkgeyByZXR1cm4gdDwuNSA/IDQqdCp0KnQgOiAodC0xKSooMip0LTIpKigyKnQtMikrMSB9XG5cbi8vIGNhbGN1bGF0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHdlIHNob3VsZCBiZSBpblxuLy8gZ2l2ZW4gdGhlIHN0YXJ0IGFuZCBlbmQgcG9pbnQgb2YgdGhlIHNjcm9sbFxuLy8gdGhlIHRpbWUgZWxhcHNlZCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNjcm9sbFxuLy8gYW5kIHRoZSB0b3RhbCBkdXJhdGlvbiBvZiB0aGUgc2Nyb2xsIChkZWZhdWx0IDUwMG1zKVxudmFyIHBvc2l0aW9uID0gZnVuY3Rpb24oc3RhcnQsIGVuZCwgZWxhcHNlZCwgZHVyYXRpb24pIHtcbiAgICBpZiAoZWxhcHNlZCA+IGR1cmF0aW9uKSByZXR1cm4gZW5kO1xuICAgIHJldHVybiBzdGFydCArIChlbmQgLSBzdGFydCkgKiBlYXNlSW5PdXRDdWJpYyhlbGFwc2VkIC8gZHVyYXRpb24pOyAvLyA8LS0geW91IGNhbiBjaGFuZ2UgdGhlIGVhc2luZyBmdW50aW9uIHRoZXJlXG4gICAgLy8gcmV0dXJuIHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIChlbGFwc2VkIC8gZHVyYXRpb24pOyAvLyA8LS0gdGhpcyB3b3VsZCBnaXZlIGEgbGluZWFyIHNjcm9sbFxufVxuXG4vLyB3ZSB1c2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRvIGJlIGNhbGxlZCBieSB0aGUgYnJvd3NlciBiZWZvcmUgZXZlcnkgcmVwYWludFxuLy8gaWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGVsZW1lbnQgdGhlbiBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGlzIGVsZW1lbnRcbi8vIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBudW1lcmljIHRoZW4gc2Nyb2xsIHRvIHRoaXMgbG9jYXRpb25cbi8vIGlmIHRoZSBjYWxsYmFjayBleGlzdCwgaXQgaXMgY2FsbGVkIHdoZW4gdGhlIHNjcm9sbGluZyBpcyBmaW5pc2hlZFxuLy8gaWYgY29udGV4dCBpcyBzZXQgdGhlbiBzY3JvbGwgdGhhdCBlbGVtZW50LCBlbHNlIHNjcm9sbCB3aW5kb3dcbnZhciBzbW9vdGhTY3JvbGwgPSBmdW5jdGlvbihlbCwgZHVyYXRpb24sIGNhbGxiYWNrLCBjb250ZXh0KXtcbiAgICBkdXJhdGlvbiA9IGR1cmF0aW9uIHx8IDUwMDtcbiAgICBjb250ZXh0ID0gY29udGV4dCB8fCB3aW5kb3c7XG4gICAgdmFyIHN0YXJ0ID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuXG4gICAgaWYgKHR5cGVvZiBlbCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhciBlbmQgPSBwYXJzZUludChlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBlbmQgPSBnZXRUb3AoZWwpO1xuICAgIH1cblxuICAgIHZhciBjbG9jayA9IERhdGUubm93KCk7XG4gICAgdmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgIGZ1bmN0aW9uKGZuKXt3aW5kb3cuc2V0VGltZW91dChmbiwgMTUpO307XG5cbiAgICB2YXIgc3RlcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIGNsb2NrO1xuICAgICAgICBpZiAoY29udGV4dCAhPT0gd2luZG93KSB7XG4gICAgICAgIFx0Y29udGV4dC5zY3JvbGxUb3AgPSBwb3NpdGlvbihzdGFydCwgZW5kLCBlbGFwc2VkLCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgIFx0d2luZG93LnNjcm9sbCgwLCBwb3NpdGlvbihzdGFydCwgZW5kLCBlbGFwc2VkLCBkdXJhdGlvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsYXBzZWQgPiBkdXJhdGlvbikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGVwKCk7XG59XG5cbnZhciBsaW5rSGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChsb2NhdGlvbi5oYXNoICE9PSB0aGlzLmhhc2gpIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCB0aGlzLmhhc2gpXG4gICAgLy8gdXNpbmcgdGhlIGhpc3RvcnkgYXBpIHRvIHNvbHZlIGlzc3VlICMxIC0gYmFjayBkb2Vzbid0IHdvcmtcbiAgICAvLyBtb3N0IGJyb3dzZXIgZG9uJ3QgdXBkYXRlIDp0YXJnZXQgd2hlbiB0aGUgaGlzdG9yeSBhcGkgaXMgdXNlZDpcbiAgICAvLyBUSElTIElTIEEgQlVHIEZST00gVEhFIEJST1dTRVJTLlxuICAgIC8vIGNoYW5nZSB0aGUgc2Nyb2xsaW5nIGR1cmF0aW9uIGluIHRoaXMgY2FsbFxuICAgIHZhciBub2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5oYXNoLnN1YnN0cmluZygxKSlcbiAgICBpZighbm9kZSkgcmV0dXJuOyAvLyBEbyBub3Qgc2Nyb2xsIHRvIG5vbi1leGlzdGluZyBub2RlXG5cbiAgICBzbW9vdGhTY3JvbGwobm9kZSwgNTAwLCBmdW5jdGlvbihlbCkge1xuICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKCcjJyArIGVsLmlkKVxuICAgICAgICAvLyB0aGlzIHdpbGwgY2F1c2UgdGhlIDp0YXJnZXQgdG8gYmUgYWN0aXZhdGVkLlxuICAgIH0pO1xufVxuXG4vLyByZXR1cm4gc21vb3Roc2Nyb2xsIEFQSVxucmV0dXJuIHNtb290aFNjcm9sbDtcblxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBQcm9wZWxsZXIgZnJvbSAnLi9wcm9wZWxsZXInO1xuaW1wb3J0IHNtb290aFNjcm9sbCBmcm9tICcuL3Ntb290aHNjcm9sbCc7XG5pbXBvcnQgaXNJblZpZXdwb3J0IGZyb20gJy4vaXMtaW4tdmlld3BvcnQnO1xuXG4vKipcbiAqIE1vdmUgdGhlIGJhY2tncm91bmQgaW1hZ2Ugb2YgdGhlIGxvZ28gd2hlbmV2ZXIgdGhlIG1vdXNlIG1vdmVzXG4gKi9cbmNvbnN0IGxvZ29CYWNrZ3JvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ29fX2JhY2tncm91bmQnKTtcbmNvbnN0IHByb3BlbGxlciA9IG5ldyBQcm9wZWxsZXIobG9nb0JhY2tncm91bmQsIHtcbiAgYW5nbGU6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDM2MCksXG4gIGluZXJ0aWE6IC45NSxcbiAgb25EcmFnU3RhcnQ6ICgpID0+IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnanMtZ3JhYmJpbmcnKSxcbiAgb25EcmFnU3RvcDogKCkgPT4gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdqcy1ncmFiYmluZycpLFxufSk7XG5cbi8qKlxuICogU21vb3RobHkgc2Nyb2xsIHRvIHRoZSB0YXJnZXRlZCBlbGVtZW50IHdoZW5ldmVyIGEgc2Nyb2xsIGFycm93IGlzIHByZXNzZWRcbiAqL1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBjb25zdCBjbGlja1RhcmdldCA9IGUudGFyZ2V0O1xuXG4gIGlmIChjbGlja1RhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Njcm9sbC1hcnJvdycpKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3Qgc2Nyb2xsVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjbGlja1RhcmdldC5oYXNoKTtcbiAgICBzbW9vdGhTY3JvbGwoc2Nyb2xsVGFyZ2V0KTtcbiAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgd2luZG93LnRpdGxlLCBjbGlja1RhcmdldC5oYXNoKVxuICB9XG59KTtcbiJdLCJuYW1lcyI6WyJQcm9wZWxsZXIiLCJlbGVtZW50Iiwib3B0aW9ucyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImNyZWF0ZU1hbnkiLCJ0aGlzIiwiYWN0aXZlIiwidHJhbnNpdGluZyIsInVwZGF0ZSIsImJpbmQiLCJpbml0Q1NTUHJlZml4IiwiaW5pdEFuZ2xlR2V0dGVyU2V0dGVyIiwiaW5pdE9wdGlvbnMiLCJpbml0SGFyZHdhcmVBY2NlbGVyYXRpb24iLCJpbml0VHJhbnNpdGlvbiIsImJpbmRIYW5kbGVycyIsImFkZExpc3RlbmVycyIsImdldHRlclNldHRlciIsInZhcmlhYmxlUGFyZW50IiwidmFyaWFibGVOYW1lIiwiZ2V0dGVyRnVuY3Rpb24iLCJzZXR0ZXJGdW5jdGlvbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0Iiwic2V0IiwiX19kZWZpbmVHZXR0ZXJfXyIsIl9fZGVmaW5lU2V0dGVyX18iLCJkZWZhdWx0cyIsImFuZ2xlIiwic3BlZWQiLCJpbmVydGlhIiwibWluaW1hbFNwZWVkIiwibWluaW1hbEFuZ2xlQ2hhbmdlIiwic3RlcCIsInN0ZXBUcmFuc2l0aW9uVGltZSIsInN0ZXBUcmFuc2l0aW9uRWFzaW5nIiwicm90YXRlUGFyZW50SW5zdGFudGx5IiwidG91Y2hFbGVtZW50Iiwibm9kZXMiLCJyZXN1bHQiLCJpIiwicHVzaCIsInAiLCJwcm90b3R5cGUiLCJfYW5nbGUiLCJ2YWx1ZSIsInZpcnR1YWxBbmdsZSIsInVwZGF0ZUNTUyIsIm9uUm90YXRpb25TdGFydCIsIm9uUm90YXRpb25TdG9wIiwib25Sb3RhdGVkIiwibGlzdGVuZXJzSW5zdGFsbGVkIiwiZG9jdW1lbnRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJldHVybkZhbHNlIiwib25kcmFnc3RhcnQiLCJyZW1vdmVMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidW5iaW5kIiwic3RvcCIsImV2ZW50IiwiaW5pdENvb3JkaW5hdGVzIiwiaW5pdERyYWciLCJ1bmRlZmluZWQiLCJvbkRyYWdTdGFydCIsInN0b3BQcm9wYWdhdGlvbiIsIm9uRHJhZ1N0b3AiLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldFRvdWNoZXMiLCJsYXN0TW91c2VFdmVudCIsInBhZ2VYIiwicGFnZVkiLCJjbGllbnRYIiwiY2xpZW50WSIsInVwZGF0ZUFuZ2xlVG9Nb3VzZSIsInVwZGF0ZUFuZ2xlIiwiYXBwbHlTcGVlZCIsImFwcGx5SW5lcnRpYSIsIk1hdGgiLCJhYnMiLCJsYXN0QXBwbGllZEFuZ2xlIiwiYmxvY2tUcmFuc2l0aW9uIiwib25Sb3RhdGUiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJnZXRBbmdsZUZyb21WaXJ0dWFsIiwibm9ybWFsaXplQW5nbGUiLCJjZWlsIiwiZGlmZmVyZW5jZUJldHdlZW5BbmdsZXMiLCJuZXdBbmdsZSIsIm9sZEFuZ2xlIiwiYTEiLCJQSSIsImEyIiwicmFkaWFucyIsImF0YW4yIiwic2luIiwiY29zIiwiZGVncmVlcyIsInJvdW5kIiwib25TdG9wIiwieERpZmYiLCJjeCIsInlEaWZmIiwiY3kiLCJtb3VzZVJhZGlhbnMiLCJtb3VzZURlZ3JlZXMiLCJsYXN0TW91c2VBbmdsZSIsImxhc3RFbGVtZW50QW5nbGUiLCJtb3VzZURpZmYiLCJlbGVtZW50T2Zmc2V0IiwiZ2V0Vmlld09mZnNldCIsIngiLCJvZmZzZXRXaWR0aCIsInkiLCJvZmZzZXRIZWlnaHQiLCJvbnJvdGF0ZSIsIm9uc3RvcCIsIm9uZHJhZ3N0b3AiLCJjc3NQcmVmaXgiLCJib2R5Iiwic3R5bGUiLCJhY2NlbGVyYXRpb25Qb3N0Zml4IiwiaGFzM2QiLCJlbCIsImNyZWF0ZUVsZW1lbnQiLCJ0cmFuc2Zvcm1zIiwid2Via2l0VHJhbnNmb3JtIiwiT1RyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwidHJhbnNmb3JtIiwiaW5zZXJ0QmVmb3JlIiwidCIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicmVtb3ZlQ2hpbGQiLCJzdXBwb3J0ZWQiLCJwcm9wIiwic2VsZiIsInNldFRpbWVvdXQiLCJzaW5nbGVGcmFtZSIsImNvb3JkcyIsIklFVmVyc2lvbiIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJhZGRPZmZzZXQiLCJkZWZhdWx0VmlldyIsInBhcmVudFdpbmRvdyIsIm5vZGUiLCJ2aWV3Iiwib2Zmc2V0UGFyZW50Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsIm5vZGVUeXBlIiwicGFyZW50U3R5bGUiLCJwb3NpdGlvbiIsInBhcnNlSW50IiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyVG9wV2lkdGgiLCJsb2NhbE5hbWUiLCJ0b0xvd2VyQ2FzZSIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1RvcCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiaHRtbFN0eWxlIiwid2luIiwib3duZXJEb2N1bWVudCIsImZyYW1lRWxlbWVudCIsIm5hdiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJzcGxpdCIsImRlZzJyYWRpYW5zIiwicm9vdCIsInNtb290aFNjcm9sbCIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJwYWdlWU9mZnNldCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJnZXRUb3AiLCJub2RlTmFtZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImVhc2VJbk91dEN1YmljIiwic3RhcnQiLCJlbmQiLCJlbGFwc2VkIiwiZHVyYXRpb24iLCJjYWxsYmFjayIsImNvbnRleHQiLCJjbG9jayIsIkRhdGUiLCJub3ciLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmbiIsInNjcm9sbCIsImxvZ29CYWNrZ3JvdW5kIiwicXVlcnlTZWxlY3RvciIsImZsb29yIiwicmFuZG9tIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiZSIsImNvbnN0IiwiY2xpY2tUYXJnZXQiLCJ0YXJnZXQiLCJjb250YWlucyIsInNjcm9sbFRhcmdldCIsImhhc2giLCJyZXBsYWNlU3RhdGUiLCJ0aXRsZSJdLCJtYXBwaW5ncyI6IjBGQXNDZSxRQUFTQSxHQUFXQyxFQUFTQyxHQUt4QyxNQUp1QixnQkFBWkQsS0FDUEEsRUFBVUUsU0FBU0MsaUJBQWlCSCxJQUdw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